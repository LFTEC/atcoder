# 层级多数投票

## Problem Statement
对于长度为 $3^n（ n \geq 1）$ 的二进制字符串 $B = B_1 B_2 \ldots B_{3^n}$ ，我们定义一个操作来获得一个长度为 $3^{n-1}$ 的二进制字符串 $C = C_1 C_2 \ldots C_{3^{n-1}}$，具体如下：

将 $B$ 的元素分成每组 3 个，并从每组中取多数值。也就是说，对于 $i = 1, 2, \ldots, 3^{n-1}$，令 $C_i$ 为 $B_{3i-2}$、 $B_{3i-1}$ 和 $B_{3i}$ 中出现次数最多的值。

给定一个长度为 $3^N$ 的二进制字符串 $A = A_1 A_2 \ldots A_{3^N}$。令 $A' = A_1'$ 为通过上述操作对 $A$ 进行 $N$ 次操作后得到的长度为 1 的字符串。

确定需要更改 $A$ 中的最少元素数（从 0 改为 1 或从 1 改为 0）以改变 $A_1'$ 的值。

## Constraints
- $N$ 是一个整数，满足 $1 \leq N \leq 13$。
- $A$ 是一个长度为 $3^N$ 的字符串，由 $0$ 和 $1$ 组成。

## Input
输入从标准输入中以以下格式给出：

$$
\begin{align*}
N \\
A_1 A_2 … A_{3^N} \\
\end{align*}
$$

## Output
打印输出结果

## Sample Input 1
```
2 
010011101
```

## Sample Output 1
```
1
```

例如，对于 $A = 010011101$，经过两次操作后，我们得到：

第一次操作：010 的多数值是 0，011 的多数值是 1，101 的多数值是 1，结果为 011。
第二次操作：011 的多数值是 1，结果为 1。

要将最终值从 1 改为 0，一种方法是将 $A$ 的第 5 个字符从 1 改为 0，得到 $A = 010001101$。更改后，操作结果为：

第一次操作：010 的多数值是 0，001 的多数值是 0，101 的多数值是 1，结果为 001。
第二次操作：001 的多数值是 0，结果为 0。

因此，所需的最少更改次数是 1。

## Sample Input 2
```
1
000
```

## Sample Output 2
```
2
```

## 解析
这个问题可以用动态规划（DP）来解决。

令 $A^{(k)} = (A_1^{(k)}, \ldots, A_{3N-k}^{(k)})$ 为 $A$ 的第 $k$ 次重复。$A^{(k)}$ 可以通过简单地执行问题中的操作来获得。令 $f(k, i)$ 为将 $A_i^{(k)}$（$i = 1, \ldots, 3N-k$）的值翻转所需更改的 $A$ 中元素的数量，注意这里是 $A$ 中元素数量而不是 $A^{(k)}$ 中的元素 。所求的答案是 $f(N, 1)$。

初始时，对于 $k = 0$，显然有 $f(0, i) = 1$（$i = 1, \ldots, 3N$）。

现在我们考虑 $k \geq 1$。$A_i^{(k)}$ 是 $A_{3i-2}^{(k-1)}$、$A_{3i-1}^{(k-1)}$ 和 $A_{3i}^{(k-1)}$ 的多数值。在 $A_{3i-2}^{(k-1)}$、$A_{3i-1}^{(k-1)}$ 和 $A_{3i}^{(k-1)}$ 中，恰好有两个或三个值等于 $A_i^{(k)}$。我们根据这个值进行分情况讨论。

如果三个值相同：要翻转 $A_i^{(k)}$ 的值，我们需要至少翻转 $A_{3i-2}^{(k-1)}$、$A_{3i-1}^{(k-1)}$ 和 $A_{3i}^{(k-1)}$ 中的两个值。因此，$f(k, i)$ 是 $f(k-1, 3i-2)$、$f(k-1, 3i-1)$ 和 $f(k-1, 3i)$ 中最小的两个值的和。
如果两个值相同：不失一般性，我们可以假设 $A_i^{(k)} = A_{3i-2}^{(k-1)} = A_{3i-1}^{(k-1)}$。那么，我们不需要翻转 $A_{3i}^{(k-1)}$，而只需要翻转 $A_{3i-2}^{(k-1)}$ 和 $A_{3i-1}^{(k-1)}$ 中的一个。我们可以翻转 $f(k-1, 3i-2)$ 和 $f(k-1, 3i-1)$ 中较小的一个，因此 $f(k, i) = \min\{f(k-1, 3i-2), f(k-1, 3i-1)\}$。

因此，通过按 $k$ 的升序填充表格，我们可以找到所有的 $f(k, i)$。时间复杂度为 $O(3^N)$。

使用递归函数会很方便。
